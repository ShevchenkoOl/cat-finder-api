var list=document.querySelector(".list"),guard=document.querySelector(".guard"),page=1,options={root:null,rootMargin:"300px",threshold:1},lordOfTheRingsAPI=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n="https://the-one-api.dev/v2/character",o="XJlq9OFMcHAy8pAQK7xj",t="sort=name:asc",r={method:"GET",headers:{Authorization:"Bearer ".concat(o)}};return fetch("".concat(n,"?limit=30&page=").concat(e,"&").concat(t),r).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()}))},creatMakeup=function(e){var n=e.map((function(e){var n=e.name,o=e.race;return"<li>\n            <h2>".concat(n,"</h2>\n            <h3>").concat(o,"</h3>\n        </li>")})).join("");list.insertAdjacentHTML("beforeend",n)},onLoad=function(e,n){e.forEach((function(e){e.isIntersecting&&lordOfTheRingsAPI(page+=1).then((function(e){creatMakeup(e.docs),e.page===e.pages&&n.unobserve(guard)})).catch((function(e){return console.log(e)}))}))};lordOfTheRingsAPI().then((function(e){creatMakeup(e.docs),observer.observe(guard)})).catch((function(e){return console.log(e)}));var observer=new IntersectionObserver(onLoad,options);
//# sourceMappingURL=pagination.d6d3e94e.js.map
